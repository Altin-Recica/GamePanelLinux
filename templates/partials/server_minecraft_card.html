{{define "partials/server_minecraft_card.html"}}
<div id="minecraft-card" class="glass rounded-2xl p-5 border border-slate-800 shadow-lg">
  <div class="flex items-start justify-between gap-3">
    <div>
      <p class="text-xs uppercase tracking-[0.25rem] text-slate-400">Minecraft</p>
      <h2 class="text-2xl font-semibold text-white">{{.Minecraft.MOTD}}</h2>
      <p class="text-slate-400 text-sm">Level {{.Minecraft.LevelName}} 路 {{.Minecraft.Gamemode}} 路 {{.Minecraft.Difficulty}}</p>
      <p class="text-slate-500 text-xs mt-1">Port {{.Minecraft.Port}} 路 Max {{.Minecraft.MaxPlayers}}</p>
    </div>
    <div class="text-right">
      {{if .Status.Running}}
        <span class="pill bg-emerald-500 text-slate-900 font-semibold">Running</span>
        <p class="text-xs text-slate-400 mt-1">Started {{formatTime .Status.LastStart}}</p>
      {{else}}
        <span class="pill bg-slate-800 text-slate-200 border border-slate-700">Stopped</span>
        <p class="text-xs text-slate-400 mt-1">Last stop {{formatTime .Status.LastStop}}</p>
      {{end}}
    </div>
  </div>
  {{if .Error}}
    <div class="mt-3 text-sm text-amber-400 bg-amber-500/10 border border-amber-500/30 rounded-lg px-3 py-2">
      {{.Error}}
    </div>
  {{end}}
  <div class="flex flex-wrap gap-2 mt-4">
    <button class="px-3 py-2 rounded-lg bg-emerald-500 text-slate-900 font-semibold hover:bg-emerald-400"
      hx-post="/servers/{{.Server.ID}}/action/start" hx-target="#minecraft-card" hx-swap="outerHTML">Start</button>
    <button class="px-3 py-2 rounded-lg bg-amber-400 text-slate-900 font-semibold hover:bg-amber-300"
      hx-post="/servers/{{.Server.ID}}/action/restart" hx-target="#minecraft-card" hx-swap="outerHTML">Restart</button>
    <button class="px-3 py-2 rounded-lg bg-rose-500 text-white font-semibold hover:bg-rose-400"
      hx-post="/servers/{{.Server.ID}}/action/stop" hx-target="#minecraft-card" hx-swap="outerHTML">Stop</button>
  </div>
  <div class="grid grid-cols-2 gap-3 text-sm text-slate-300 mt-4">
    <div class="bg-slate-900/60 border border-slate-800 rounded-xl p-3">
      <p class="text-slate-400 text-xs uppercase tracking-[0.15rem] mb-1">RCON</p>
      <p>Port {{.Minecraft.RconPort}}</p>
      <p class="text-slate-400 text-xs mt-1">{{if .Minecraft.EnableRCON}}Enabled{{else}}Disabled{{end}}</p>
    </div>
    <div class="bg-slate-900/60 border border-slate-800 rounded-xl p-3">
      <p class="text-slate-400 text-xs uppercase tracking-[0.15rem] mb-1">World</p>
      <p>View {{.Minecraft.ViewDistance}} 路 Sim {{.Minecraft.SimulationDist}}</p>
      <p class="text-slate-400 text-xs mt-1">Seed {{.Minecraft.LevelSeed}}</p>
    </div>
  </div>
</div>
{{end}}
