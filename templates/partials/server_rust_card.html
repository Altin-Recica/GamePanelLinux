{{define "partials/server_rust_card.html"}}
<div id="rust-card" class="glass rounded-2xl p-5 border border-slate-800 shadow-lg">
  <div class="flex items-start justify-between gap-3">
    <div>
      <p class="text-xs uppercase tracking-[0.25rem] text-slate-400">Rust</p>
      <h2 class="text-2xl font-semibold text-white">{{.Rust.ServerName}}</h2>
      <p class="text-slate-400 text-sm">{{.Rust.Description}}</p>
      <p class="text-slate-500 text-xs mt-1">Port {{.Rust.Port}} · Max {{.Rust.MaxPlayers}} · Map {{.Rust.MapType}}</p>
    </div>
    <div class="text-right">
      {{if .Status.Running}}
        <span class="pill bg-emerald-500 text-slate-900 font-semibold">Running</span>
        <p class="text-xs text-slate-400 mt-1">Started {{formatTime .Status.LastStart}}</p>
      {{else}}
        <span class="pill bg-slate-800 text-slate-200 border border-slate-700">Stopped</span>
        <p class="text-xs text-slate-400 mt-1">Last stop {{formatTime .Status.LastStop}}</p>
      {{end}}
    </div>
  </div>
  {{if .Error}}
    <div class="mt-3 text-sm text-amber-400 bg-amber-500/10 border border-amber-500/30 rounded-lg px-3 py-2">
      {{.Error}}
    </div>
  {{end}}
  <div class="flex flex-wrap gap-2 mt-4">
    <button class="px-3 py-2 rounded-lg bg-cyan-500 text-slate-900 font-semibold hover:bg-cyan-400"
      hx-post="/servers/{{.Server.ID}}/action/start" hx-target="#rust-card" hx-swap="outerHTML">Start</button>
    <button class="px-3 py-2 rounded-lg bg-amber-400 text-slate-900 font-semibold hover:bg-amber-300"
      hx-post="/servers/{{.Server.ID}}/action/restart" hx-target="#rust-card" hx-swap="outerHTML">Restart</button>
    <button class="px-3 py-2 rounded-lg bg-rose-500 text-white font-semibold hover:bg-rose-400"
      hx-post="/servers/{{.Server.ID}}/action/stop" hx-target="#rust-card" hx-swap="outerHTML">Stop</button>
    <button class="px-3 py-2 rounded-lg bg-indigo-500 text-slate-900 font-semibold hover:bg-indigo-400"
      hx-post="/servers/{{.Server.ID}}/install/rust" hx-target="#rust-install-status" hx-swap="innerHTML">Install / Update</button>
  </div>
  <div id="rust-install-status" class="text-sm text-slate-400 mt-2 min-h-[1.25rem]"></div>
  <div class="grid grid-cols-2 gap-3 text-sm text-slate-300 mt-4">
    <div class="bg-slate-900/60 border border-slate-800 rounded-xl p-3">
      <p class="text-slate-400 text-xs uppercase tracking-[0.15rem] mb-1">RCON</p>
      <p>Port {{.Rust.RconPort}}</p>
      <p class="text-slate-400 text-xs mt-1">{{if .Rust.EnableRCON}}Enabled{{else}}Disabled{{end}}</p>
    </div>
    <div class="bg-slate-900/60 border border-slate-800 rounded-xl p-3">
      <p class="text-slate-400 text-xs uppercase tracking-[0.15rem] mb-1">World</p>
      <p>Seed {{.Rust.Seed}} · Size {{.Rust.WorldSize}}</p>
      <p class="text-slate-400 text-xs mt-1">Save {{.Rust.SaveInterval}}s</p>
    </div>
  </div>
</div>
{{end}}
